{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _ref,_ref2,_ref3,_ref4;import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{addProductToCart,fetchProductsByUserId,updateCart,deleteProductFromCart,cartReset}from'./cartAPI';var initialState={value:0,items:[],status:\"idle\"};export var addProductToCartAsync=createAsyncThunk('cart/addProductToCart',function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(item){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return addProductToCart(item);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});export var fetchProductsByUserIdAsync=createAsyncThunk('cart/fetchProductsByUserId',function(_x2){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userId){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchProductsByUserId();case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);});export var updateCartAsync=createAsyncThunk('cart/updateCart',function(_x3){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(update){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updateCart(update);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);});export var deleteProductFromCartAsync=createAsyncThunk('cart/deleteProductFromCart',function(_x4){return(_ref4=_ref4||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(itemId){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return deleteProductFromCart(itemId);case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}},_callee4);}))).apply(this,arguments);});export var cartResetAsync=createAsyncThunk('cart/cartReset',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return cartReset();case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 4:case\"end\":return _context5.stop();}},_callee5);})));export var cartSlice=createSlice({name:'cart',initialState:initialState,// The `reducers` field lets us define reducers and generate associated actions\nreducers:{increment:function increment(state){state.value+=1;}},// The `extraReducers` field lets the slice handle actions defined elsewhere,\n// including actions generated by createAsyncThunk or in other slices.\nextraReducers:function extraReducers(builder){builder.addCase(addProductToCartAsync.pending,function(state){state.status='loading';}).addCase(addProductToCartAsync.fulfilled,function(state,action){state.status='idle';state.items.push(action.payload);}).addCase(fetchProductsByUserIdAsync.pending,function(state){state.status='loading';}).addCase(fetchProductsByUserIdAsync.fulfilled,function(state,action){state.status='idle';state.items=action.payload;}).addCase(updateCartAsync.pending,function(state){state.status='loading';}).addCase(updateCartAsync.fulfilled,function(state,action){state.status='idle';var index=state.items.findIndex(function(item){return item.id===action.payload.id;});state.items[index]=action.payload;}).addCase(deleteProductFromCartAsync.pending,function(state){state.status='loading';}).addCase(deleteProductFromCartAsync.fulfilled,function(state,action){state.status='idle';var index=state.items.findIndex(function(item){return item.id===action.payload.id;});state.items.splice(index,1);}).addCase(cartResetAsync.pending,function(state){state.status='loading';}).addCase(cartResetAsync.fulfilled,function(state,action){state.status='idle';state.items=[];});}});var increment=cartSlice.actions.increment;export{increment};export var selectItems=function selectItems(state){return state.cart.items;};export default cartSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","addProductToCart","fetchProductsByUserId","updateCart","deleteProductFromCart","cartReset","initialState","value","items","status","addProductToCartAsync","_x","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","item","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","apply","arguments","fetchProductsByUserIdAsync","_x2","_ref2","_callee2","userId","_callee2$","_context2","updateCartAsync","_x3","_ref3","_callee3","update","_callee3$","_context3","deleteProductFromCartAsync","_x4","_ref4","_callee4","itemId","_callee4$","_context4","cartResetAsync","_callee5","_callee5$","_context5","cartSlice","name","reducers","increment","state","extraReducers","builder","addCase","pending","fulfilled","action","push","payload","index","findIndex","id","splice","actions","selectItems","cart","reducer"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/cart/cartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { addProductToCart, fetchProductsByUserId, updateCart, deleteProductFromCart, cartReset } from './cartAPI';\r\n\r\nconst initialState = {\r\n  value: 0,\r\n  items: [],\r\n  status: \"idle\",\r\n};\r\n\r\n\r\nexport const addProductToCartAsync = createAsyncThunk(\r\n  'cart/addProductToCart',\r\n  async (item) => {\r\n    const response = await addProductToCart(item);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const fetchProductsByUserIdAsync = createAsyncThunk(\r\n  'cart/fetchProductsByUserId',\r\n  async (userId) => {\r\n    const response = await fetchProductsByUserId();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updateCartAsync = createAsyncThunk(\r\n  'cart/updateCart',\r\n  async (update) => {\r\n    const response = await updateCart(update);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const deleteProductFromCartAsync = createAsyncThunk(\r\n  'cart/deleteProductFromCart',\r\n  async (itemId) => {\r\n    const response = await deleteProductFromCart(itemId);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const cartResetAsync = createAsyncThunk(\r\n  'cart/cartReset',\r\n  async () => {\r\n    const response = await cartReset();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      state.value += 1;\r\n    },\r\n  },\r\n\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(addProductToCartAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(addProductToCartAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.items.push(action.payload);\r\n      })\r\n      .addCase(fetchProductsByUserIdAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchProductsByUserIdAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.items = action.payload;\r\n      })\r\n      .addCase(updateCartAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(updateCartAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        const index = state.items.findIndex((item) => item.id === action.payload.id);\r\n        state.items[index] = action.payload;\r\n      })\r\n      .addCase(deleteProductFromCartAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(deleteProductFromCartAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        const index = state.items.findIndex((item) => item.id === action.payload.id);\r\n        state.items.splice(index, 1);\r\n      })\r\n      .addCase(cartResetAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(cartResetAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.items = [];\r\n      });\r\n  },\r\n});\r\n\r\nexport const { increment } = cartSlice.actions;\r\n\r\nexport const selectItems = (state) => state.cart.items;\r\n\r\nexport default cartSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}