{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function addProductToCart(item){var _ref;return new Promise(function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8000/cart\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(item)});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;resolve({data:data});case 7:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});}export function fetchProductsByUserId(){var _ref2;return new Promise(function(_x2){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:8000/cart\");case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;resolve({data:data});case 7:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);});}export function updateCart(update){var _ref3;return new Promise(function(_x3){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:8000/cart/\"+update.id,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(update)});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;resolve({data:data});case 7:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);});}export function deleteProductFromCart(itemId){var _ref4;return new Promise(function(_x4){return(_ref4=_ref4||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:8000/cart/\"+itemId,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;resolve({data:{id:itemId}});case 7:case\"end\":return _context4.stop();}},_callee4);}))).apply(this,arguments);});}export function cartReset(){var _ref5;return new Promise(function(_x5){return(_ref5=_ref5||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(resolve){var response,items,_iterator,_step,item;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetchProductsByUserId();case 2:response=_context5.sent;items=response.data;_iterator=_createForOfIteratorHelper(items);_context5.prev=5;_iterator.s();case 7:if((_step=_iterator.n()).done){_context5.next=13;break;}item=_step.value;_context5.next=11;return deleteProductFromCart(item.id);case 11:_context5.next=7;break;case 13:_context5.next=18;break;case 15:_context5.prev=15;_context5.t0=_context5[\"catch\"](5);_iterator.e(_context5.t0);case 18:_context5.prev=18;_iterator.f();return _context5.finish(18);case 21:resolve({status:\"success\"});case 22:case\"end\":return _context5.stop();}},_callee5,null,[[5,15,18,21]]);}))).apply(this,arguments);});}","map":{"version":3,"names":["addProductToCart","item","_ref","Promise","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","stop","apply","arguments","fetchProductsByUserId","_ref2","_x2","_callee2","_callee2$","_context2","updateCart","update","_ref3","_x3","_callee3","_callee3$","_context3","id","deleteProductFromCart","itemId","_ref4","_x4","_callee4","_callee4$","_context4","cartReset","_ref5","_x5","_callee5","items","_iterator","_step","_callee5$","_context5","_createForOfIteratorHelper","s","n","done","value","t0","e","f","finish","status"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/cart/cartAPI.js"],"sourcesContent":["export function addProductToCart(item) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/cart\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(item),\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function fetchProductsByUserId() {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/cart\");\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function updateCart(update) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/cart/\" + update.id, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(update),\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function deleteProductFromCart(itemId) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/cart/\" + itemId, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data: { id: itemId } });\r\n  });\r\n}\r\n\r\nexport function cartReset() {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetchProductsByUserId();\r\n    const items = response.data;\r\n    for (let item of items) {\r\n      await deleteProductFromCart(item.id);\r\n    }\r\n    resolve({status:\"success\"});\r\n  });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}