{"ast":null,"code":"import React from\"react\";import\"./App.css\";import Home from\"./pages/Home\";import LoginPage from\"./pages/LoginPage\";import SignupPage from\"./pages/SignupPage\";import CartPage from\"./pages/CartPage\";import Checkout from\"./pages/Checkout\";import ProductDetailPage from\"./pages/ProductDetailPage\";import{useDispatch,useSelector}from\"react-redux\";import{useEffect}from\"react\";import{checkAuthAsync,selectLoggedInUser,selectUserChecked}from\"./features/auth/authSlice\";import OrderSuccess from\"./pages/OrderSuccess\";import UserOrders from\"./features/user/components/UserOrders\";import{createBrowserRouter,RouterProvider,Route,Link}from\"react-router-dom\";import Protected from\"./features/auth/components/Protected\";import{fetchProductsByUserIdAsync}from\"./features/cart/cartSlice\";import PageNotFound from\"./pages/404\";import UserOrdersPage from\"./pages/UserOrderPage\";import UserProfilePage from\"./pages/UserProfilePage\";import{fetchLoggedInUserAsync}from\"./features/user/userSlice\";import Logout from\"./features/auth/components/Logout\";import ForgotPasswordPage from\"./pages/ForgotPasswordPage\";import AdminHome from\"./pages/AdminHome\";import ProtectedAdmin from\"./features/auth/components/ProtectedAdmin\";import AdminProductDetailPage from\"./pages/AdminProductDetailPage\";import AdminProductFormPage from\"./pages/AdminProductFormPage\";import AdminOrdersPage from\"./pages/AdminOrdersPage\";import CheckoutStripe from\"./pages/CheckoutStripe\";import{jsx as _jsx}from\"react/jsx-runtime\";var router=createBrowserRouter([{path:\"/\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Home,{})})},{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})},{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupPage,{})},{path:\"/cart\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(CartPage,{})})},{path:\"/checkout\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Checkout,{})})},{path:\"/productdetail/:id\",element:/*#__PURE__*/_jsx(ProductDetailPage,{})},{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})},{path:\"/ordersuccess/:id\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(OrderSuccess,{})})},{path:\"/orders\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(UserOrdersPage,{})})},{path:\"/profile\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(UserProfilePage,{})})},{path:\"/logout\",element:/*#__PURE__*/_jsx(Logout,{})},{path:\"/forgotpassword\",element:/*#__PURE__*/_jsx(ForgotPasswordPage,{})},{path:\"/checkout_stripe/\",element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(CheckoutStripe,{})})},// admin\n{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminHome,{})})},{path:\"/admin/productdetail/:id\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductDetailPage,{})})},{path:\"/admin/productform\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:\"/admin/productform/edit/:id\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminOrdersPage,{})})}]);function App(){var dispatch=useDispatch();var user=useSelector(selectLoggedInUser);var userChecked=useSelector(selectUserChecked);useEffect(function(){dispatch(checkAuthAsync());},[dispatch]);useEffect(function(){if(user){dispatch(fetchProductsByUserIdAsync());dispatch(fetchLoggedInUserAsync());}},[dispatch,user]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:userChecked&&/*#__PURE__*/_jsx(RouterProvider,{router:router})});}export default App;","map":{"version":3,"names":["React","Home","LoginPage","SignupPage","CartPage","Checkout","ProductDetailPage","useDispatch","useSelector","useEffect","checkAuthAsync","selectLoggedInUser","selectUserChecked","OrderSuccess","UserOrders","createBrowserRouter","RouterProvider","Route","Link","Protected","fetchProductsByUserIdAsync","PageNotFound","UserOrdersPage","UserProfilePage","fetchLoggedInUserAsync","Logout","ForgotPasswordPage","AdminHome","ProtectedAdmin","AdminProductDetailPage","AdminProductFormPage","AdminOrdersPage","CheckoutStripe","jsx","_jsx","router","path","element","children","App","dispatch","user","userChecked","className"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./App.css\";\r\nimport Home from \"./pages/Home\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignupPage from \"./pages/SignupPage\";\r\nimport CartPage from \"./pages/CartPage\";\r\nimport Checkout from \"./pages/Checkout\";\r\nimport ProductDetailPage from \"./pages/ProductDetailPage\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { checkAuthAsync, selectLoggedInUser, selectUserChecked } from \"./features/auth/authSlice\";\r\nimport OrderSuccess from \"./pages/OrderSuccess\";\r\nimport UserOrders from \"./features/user/components/UserOrders\";\r\nimport {\r\n  createBrowserRouter,\r\n  RouterProvider,\r\n  Route,\r\n  Link,\r\n} from \"react-router-dom\";\r\nimport Protected from \"./features/auth/components/Protected\";\r\nimport { fetchProductsByUserIdAsync } from \"./features/cart/cartSlice\";\r\nimport PageNotFound from \"./pages/404\";\r\nimport UserOrdersPage from \"./pages/UserOrderPage\";\r\nimport UserProfilePage from \"./pages/UserProfilePage\";\r\nimport { fetchLoggedInUserAsync } from \"./features/user/userSlice\";\r\nimport Logout from \"./features/auth/components/Logout\";\r\nimport ForgotPasswordPage from \"./pages/ForgotPasswordPage\";\r\nimport AdminHome from \"./pages/AdminHome\";\r\nimport ProtectedAdmin from \"./features/auth/components/ProtectedAdmin\";\r\nimport AdminProductDetailPage from \"./pages/AdminProductDetailPage\";\r\nimport AdminProductFormPage from \"./pages/AdminProductFormPage\";\r\nimport AdminOrdersPage from \"./pages/AdminOrdersPage\";\r\nimport CheckoutStripe from \"./pages/CheckoutStripe\";\r\n\r\nconst router = createBrowserRouter([\r\n  {\r\n    path: \"/\",\r\n    element: (<Protected><Home></Home></Protected>),\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    element: <LoginPage></LoginPage>,\r\n  },\r\n  {\r\n    path: \"/signup\",\r\n    element: <SignupPage></SignupPage>,\r\n  },\r\n  {\r\n    path: \"/cart\",\r\n    element: (<Protected><CartPage></CartPage></Protected>),\r\n  },\r\n  {\r\n    path: \"/checkout\",\r\n    element: (<Protected><Checkout></Checkout></Protected>),\r\n  },\r\n  {\r\n    path: \"/productdetail/:id\",\r\n    element: <ProductDetailPage></ProductDetailPage>,\r\n  },\r\n  {\r\n    path: \"*\",\r\n    element: <PageNotFound></PageNotFound>,\r\n  },\r\n  {\r\n    path: \"/ordersuccess/:id\",\r\n    element: (<Protected><OrderSuccess></OrderSuccess></Protected>),\r\n  },\r\n  {\r\n    path: \"/orders\",\r\n    element: (<Protected><UserOrdersPage></UserOrdersPage></Protected>),\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    element: (<Protected><UserProfilePage></UserProfilePage></Protected>),\r\n  },\r\n  {\r\n    path: \"/logout\",\r\n    element: <Logout></Logout>,\r\n  },\r\n  {\r\n    path: \"/forgotpassword\",\r\n    element: (<ForgotPasswordPage></ForgotPasswordPage>),\r\n  },\r\n  {\r\n    path: \"/checkout_stripe/\",\r\n    element: (<Protected><CheckoutStripe></CheckoutStripe></Protected>),\r\n  },\r\n  // admin\r\n  {\r\n    path: \"/admin\",\r\n    element: (<ProtectedAdmin><AdminHome></AdminHome></ProtectedAdmin>),\r\n  },\r\n  {\r\n    path: \"/admin/productdetail/:id\",\r\n    element: (<ProtectedAdmin><AdminProductDetailPage></AdminProductDetailPage></ProtectedAdmin>),\r\n  },\r\n  {\r\n    path: \"/admin/productform\",\r\n    element: (<ProtectedAdmin><AdminProductFormPage></AdminProductFormPage></ProtectedAdmin>),\r\n  },\r\n  {\r\n    path: \"/admin/productform/edit/:id\",\r\n    element: (<ProtectedAdmin><AdminProductFormPage></AdminProductFormPage></ProtectedAdmin>),\r\n  },\r\n  {\r\n    path: \"/admin/orders\",\r\n    element: (<ProtectedAdmin><AdminOrdersPage></AdminOrdersPage></ProtectedAdmin>),\r\n  },\r\n]);\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectLoggedInUser);\r\n  const userChecked = useSelector(selectUserChecked);\r\n\r\n  useEffect(() => {\r\n    dispatch(checkAuthAsync());\r\n  },[dispatch]);\r\n\r\n  useEffect(() => {\r\n    if(user){\r\n      dispatch(fetchProductsByUserIdAsync());\r\n      dispatch(fetchLoggedInUserAsync());\r\n    }\r\n  },[dispatch, user]);\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      { userChecked && <RouterProvider router={router} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}