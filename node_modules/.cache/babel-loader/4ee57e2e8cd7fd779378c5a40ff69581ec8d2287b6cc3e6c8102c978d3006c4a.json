{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{selectCount,selectUserInfo}from\"../userSlice\";import{selectLoggedInUser}from\"../../auth/authSlice\";import{fetchUserOrdersAsync}from\"../userSlice\";import{selectOrdersOfUser}from\"../userSlice\";import{discountedPrice}from\"../../../app/constants\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function UserOrders(){var dispatch=useDispatch();var userInfo=useSelector(selectUserInfo);var orders=useSelector(selectOrdersOfUser);useEffect(function(){dispatch(fetchUserOrdersAsync(userInfo.id));},[dispatch,userInfo.id]);return/*#__PURE__*/_jsx(\"div\",{children:orders.map(function(order,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold tracking-tight text-gray-900\",children:[\"Order Id # \",order.id]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-1xl font-bold tracking-tight text-red-900\",children:[\"Order Status: \",order.status]}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-root mt-10\",children:/*#__PURE__*/_jsx(\"ul\",{role:\"list\",className:\"-my-6 divide-y divide-gray-200\",children:order.items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.thumbnail,alt:item.product.title,className:\"h-full w-full object-cover object-center\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-1 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:item.product.id,children:item.product.title})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"$\",discountedPrice(item.product)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"flex flex-1 items-end justify-between text-sm text-gray-500\",children:item.product.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-end justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"quantity\",className:\"inline mr-5 text-sm font-medium leading-6 text-gray-900\",children:[\"Quantity: \",item.quantity]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\"})]})]})]},item.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Number of Items in Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Items: \",order.totalitems]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",order.totalAmount]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-0.5 text-sm text-gray-500\",children:\"Shipping Address:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex min-w-0 gap-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-auto\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold leading-6 text-gray-900\",children:[\"Name: \",order.selectedAddress.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 truncate text-xs leading-5 text-gray-500\",children:[\"Street: \",order.selectedAddress.street]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"City: \",order.selectedAddress.city]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Postal Code: \",order.selectedAddress.postalcode]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Country: \",order.selectedAddress.country]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Province: \",order.selectedAddress.state]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Phone: \",order.selectedAddress.phone]})]})]})]})]})},index);})});}","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","selectCount","selectUserInfo","selectLoggedInUser","fetchUserOrdersAsync","selectOrdersOfUser","discountedPrice","jsxs","_jsxs","jsx","_jsx","UserOrders","dispatch","userInfo","orders","id","children","map","order","index","className","status","role","items","item","src","product","thumbnail","alt","title","href","brand","htmlFor","quantity","totalitems","totalAmount","selectedAddress","name","street","city","postalcode","country","state","phone"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/user/components/UserOrders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectCount, selectUserInfo } from \"../userSlice\";\r\nimport { selectLoggedInUser } from \"../../auth/authSlice\";\r\nimport { fetchUserOrdersAsync } from \"../userSlice\";\r\nimport { selectOrdersOfUser } from \"../userSlice\";\r\nimport { discountedPrice } from \"../../../app/constants\";\r\n\r\nexport default function UserOrders() {\r\n  const dispatch = useDispatch();\r\n  const userInfo = useSelector(selectUserInfo);\r\n  const orders = useSelector(selectOrdersOfUser);\r\n  useEffect(() => {\r\n    dispatch(fetchUserOrdersAsync(userInfo.id));\r\n  }, [dispatch, userInfo.id]);\r\n  return (\r\n    <div>\r\n      {orders.map((order, index) => (\r\n        <div key={index}>\r\n          <div className=\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n              <h1 className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n                Order Id # {order.id}\r\n              </h1>\r\n              <h2 className=\"text-1xl font-bold tracking-tight text-red-900\">\r\n                Order Status: {order.status}\r\n              </h2>\r\n              <div className=\"flow-root mt-10\">\r\n                <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n                  {order.items.map((item) => (\r\n                    <li key={item.id} className=\"flex py-6\">\r\n                      <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                        <img\r\n                          src={item.product.thumbnail}\r\n                          alt={item.product.title}\r\n                          className=\"h-full w-full object-cover object-center\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"ml-4 flex flex-1 flex-col\">\r\n                        <div>\r\n                          <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                            <h3>\r\n                              <a href={item.product.id}>{item.product.title}</a>\r\n                            </h3>\r\n                            <p className=\"ml-4\">${discountedPrice(item.product)}</p>\r\n                          </div>\r\n                          <p className=\"flex flex-1 items-end justify-between text-sm text-gray-500\">\r\n                            {item.product.brand}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                          <div className=\"text-gray-500\">\r\n                            <label\r\n                              htmlFor=\"quantity\"\r\n                              className=\"inline mr-5 text-sm font-medium leading-6 text-gray-900\"\r\n                            >\r\n                              Quantity: {item.quantity}\r\n                            </label>\r\n                          </div>\r\n\r\n                          <div className=\"flex\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n              <div className=\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\">\r\n                <p>Number of Items in Cart</p>\r\n                <p>Items: {order.totalitems}</p>\r\n              </div>\r\n              <div className=\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\">\r\n                <p>Subtotal</p>\r\n                <p>${order.totalAmount}</p>\r\n              </div>\r\n              <p className=\"mt-0.5 text-sm text-gray-500\">\r\n                Shipping Address:\r\n              </p>\r\n              <div className=\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\">\r\n                <div className=\"flex min-w-0 gap-x-4\">\r\n                  \r\n                  <div className=\"min-w-0 flex-auto\">\r\n                    <p className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                      Name: {order.selectedAddress.name}\r\n                    </p>\r\n                    <p className=\"mt-1 truncate text-xs leading-5 text-gray-500\">\r\n                      Street: {order.selectedAddress.street}\r\n                    </p>\r\n                    <p className=\"text-sm leading-6 text-gray-900\">\r\n                      City: {order.selectedAddress.city}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\">\r\n                  <p className=\"text-sm leading-6 text-gray-900\">\r\n                    Postal Code: {order.selectedAddress.postalcode}\r\n                  </p>\r\n                  <p className=\"text-sm leading-6 text-gray-900\">\r\n                    Country: {order.selectedAddress.country}\r\n                  </p>\r\n                  <p className=\"text-sm leading-6 text-gray-900\">\r\n                    Province: {order.selectedAddress.state}\r\n                  </p>\r\n                  <p className=\"text-sm leading-6 text-gray-900\">\r\n                    Phone: {order.selectedAddress.phone}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}