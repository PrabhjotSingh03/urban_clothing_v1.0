{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _ref,_ref3,_ref4;import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{createOrder,fetchAllOrders,orderUpdate}from\"./orderAPI\";var initialState={orders:[],status:\"idle\",orderCurrent:null,ordersTotal:0};export var createOrderAsync=createAsyncThunk(\"order/createOrder\",function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(order){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createOrder(order);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});export var fetchAllOrdersAsync=createAsyncThunk(\"order/fetchAllOrders\",function(_x2){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2){var sort,pagination,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:sort=_ref2.sort,pagination=_ref2.pagination;_context2.next=3;return fetchAllOrders(sort,pagination);case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 5:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);});export var orderUpdateAsync=createAsyncThunk(\"order/orderUpdate\",function(_x3){return(_ref4=_ref4||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(order){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return orderUpdate(order);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);});export var orderSlice=createSlice({name:\"order\",initialState:initialState,// The `reducers` field lets us define reducers and generate associated actions\nreducers:{increment:function increment(state){state.value+=1;},orderReset:function orderReset(state){state.orderCurrent=null;}},// The `extraReducers` field lets the slice handle actions defined elsewhere,\n// including actions generated by createAsyncThunk or in other slices.\nextraReducers:function extraReducers(builder){builder.addCase(createOrderAsync.pending,function(state){state.status=\"loading\";}).addCase(createOrderAsync.fulfilled,function(state,action){state.status=\"idle\";state.orders.push(action.payload);state.orderCurrent=action.payload;}).addCase(fetchAllOrdersAsync.pending,function(state){state.status=\"loading\";}).addCase(fetchAllOrdersAsync.fulfilled,function(state,action){state.status=\"idle\";state.orders=action.payload.orders;state.ordersTotal=action.payload.totalOrders;}).addCase(orderUpdateAsync.pending,function(state){state.status=\"loading\";}).addCase(orderUpdateAsync.fulfilled,function(state,action){state.status=\"idle\";var index=state.orders.findIndex(function(order){return order.id===action.payload.id;});state.orders[index]=action.payload;});}});var orderReset=orderSlice.actions.orderReset;export{orderReset};export var selectOrderCurrent=function selectOrderCurrent(state){return state.order.orderCurrent;};export var selectOrders=function selectOrders(state){return state.order.orders;};export var selectOrdersTotal=function selectOrdersTotal(state){return state.order.ordersTotal;};export default orderSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createOrder","fetchAllOrders","orderUpdate","initialState","orders","status","orderCurrent","ordersTotal","createOrderAsync","_x","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","order","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","apply","arguments","fetchAllOrdersAsync","_x2","_ref3","_callee2","_ref2","sort","pagination","_callee2$","_context2","orderUpdateAsync","_x3","_ref4","_callee3","_callee3$","_context3","orderSlice","name","reducers","increment","state","value","orderReset","extraReducers","builder","addCase","pending","fulfilled","action","push","payload","totalOrders","index","findIndex","id","actions","selectOrderCurrent","selectOrders","selectOrdersTotal","reducer"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/order/orderSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { createOrder, fetchAllOrders, orderUpdate } from \"./orderAPI\";\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  status: \"idle\",\r\n  orderCurrent: null,\r\n  ordersTotal: 0,\r\n};\r\n\r\nexport const createOrderAsync = createAsyncThunk(\r\n  \"order/createOrder\",\r\n  async (order) => {\r\n    const response = await createOrder(order);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const fetchAllOrdersAsync = createAsyncThunk(\r\n  \"order/fetchAllOrders\",\r\n  async ({sort, pagination}) => {\r\n    const response = await fetchAllOrders(sort, pagination);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const orderUpdateAsync = createAsyncThunk(\r\n  \"order/orderUpdate\",\r\n  async (order) => {\r\n    const response = await orderUpdate(order);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const orderSlice = createSlice({\r\n  name: \"order\",\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      state.value += 1;\r\n    },\r\n    orderReset: (state) => {\r\n      state.orderCurrent = null;\r\n    },\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createOrderAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(createOrderAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.orders.push(action.payload);\r\n        state.orderCurrent = action.payload;\r\n      })\r\n      .addCase(fetchAllOrdersAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(fetchAllOrdersAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.orders = action.payload.orders;\r\n        state.ordersTotal = action.payload.totalOrders;\r\n      })\r\n      .addCase(orderUpdateAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(orderUpdateAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        const index = state.orders.findIndex((order) => order.id === action.payload.id);\r\n        state.orders[index] = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { orderReset } = orderSlice.actions;\r\nexport const selectOrderCurrent = (state) => state.order.orderCurrent;\r\nexport const selectOrders = (state) => state.order.orders;\r\nexport const selectOrdersTotal = (state) => state.order.ordersTotal;\r\n\r\nexport default orderSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}