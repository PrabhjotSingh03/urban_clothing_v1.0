{"ast":null,"code":"import _slicedToArray from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Fragment}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Dialog,Transition}from\"@headlessui/react\";import{XMarkIcon}from\"@heroicons/react/24/outline\";import{Link}from\"react-router-dom\";import{selectItems,updateCartAsync,deleteProductFromCartAsync,selectCartLoaded}from\"../cart/cartSlice\";import{Navigate}from\"react-router-dom\";import{discountedPrice}from\"../../app/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Cart(){var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var items=useSelector(selectItems);var totalitems=items.reduce(function(total,item){return item.quantity+total;},0);var totalAmount=items.reduce(function(amount,item){return discountedPrice(item.product)*item.quantity+amount;},0);var handleQuantity=function handleQuantity(e,item){dispatch(updateCartAsync({id:item.id,quantity:+e.target.value}));console.log(e.target.value);};var cartLoaded=useSelector(selectCartLoaded);var handleRemove=function handleRemove(e,id){dispatch(deleteProductFromCartAsync(id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[!items.length&&cartLoaded&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold tracking-tight text-gray-900\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-root mt-10\",children:/*#__PURE__*/_jsx(\"ul\",{role:\"list\",className:\"-my-6 divide-y divide-gray-200\",children:items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.thumbnail,alt:item.product.title,className:\"h-full w-full object-cover object-center\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-1 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:item.product.id,children:item.product.title})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"$\",discountedPrice(item.product)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"flex flex-1 items-end justify-between text-sm text-gray-500\",children:item.product.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-end justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",className:\"inline mr-5 text-sm font-medium leading-6 text-gray-900\",children:\"Qty\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return handleQuantity(e,item);},value:item.quantity,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return handleRemove(e,item.id);},type:\"button\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"Remove\"})})]})]})]},item.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Number of Items in Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Items: \",totalitems]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",totalAmount]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-0.5 text-sm text-gray-500\",children:\"Shipping and taxes calculated at checkout.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700\",children:\"Checkout\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-center text-center text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"or\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:[\"Continue Shopping\",/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\" \\u2192\"})]})})]})})]})]})]});}","map":{"version":3,"names":["React","useState","Fragment","useSelector","useDispatch","Dialog","Transition","XMarkIcon","Link","selectItems","updateCartAsync","deleteProductFromCartAsync","selectCartLoaded","Navigate","discountedPrice","jsx","_jsx","jsxs","_jsxs","_Fragment","Cart","dispatch","_useState","_useState2","_slicedToArray","open","setOpen","items","totalitems","reduce","total","item","quantity","totalAmount","amount","product","handleQuantity","e","id","target","value","console","log","cartLoaded","handleRemove","children","length","to","replace","className","role","map","src","thumbnail","alt","title","href","brand","htmlFor","onChange","onClick","type"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/cart/Cart.js"],"sourcesContent":["import React, { useState, Fragment } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Dialog, Transition } from \"@headlessui/react\";\r\nimport { XMarkIcon } from \"@heroicons/react/24/outline\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { selectItems, updateCartAsync, deleteProductFromCartAsync, selectCartLoaded } from \"../cart/cartSlice\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { discountedPrice } from \"../../app/constants\";\r\n\r\nexport default function Cart() {\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(true);\r\n  const items = useSelector(selectItems);\r\n  const totalitems = items.reduce((total, item) => item.quantity + total, 0);\r\n  const totalAmount = items.reduce(\r\n    (amount, item) => discountedPrice(item.product) * item.quantity + amount,\r\n    0\r\n  );\r\n  const handleQuantity = (e, item) => {\r\n    dispatch(updateCartAsync({ id:item.id, quantity: +e.target.value }));\r\n    console.log(e.target.value);\r\n  };\r\n  const cartLoaded = useSelector(selectCartLoaded);\r\n\r\n  const handleRemove = (e, id) => {\r\n    dispatch(deleteProductFromCartAsync(id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n    {!items.length && cartLoaded && <Navigate to=\"/\" replace={true}></Navigate>}\r\n      <div className=\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n          <h1 className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n            Cart\r\n          </h1>\r\n          <div className=\"flow-root mt-10\">\r\n            <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n              {items.map((item) => (\r\n                <li key={item.id} className=\"flex py-6\">\r\n                  <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                    <img\r\n                      src={item.product.thumbnail}\r\n                      alt={item.product.title}\r\n                      className=\"h-full w-full object-cover object-center\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"ml-4 flex flex-1 flex-col\">\r\n                    <div>\r\n                      <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                        <h3>\r\n                          <a href={item.product.id}>{item.product.title}</a>\r\n                        </h3>\r\n                        <p className=\"ml-4\">${discountedPrice(item.product)}</p>\r\n                      </div>\r\n                      <p className=\"flex flex-1 items-end justify-between text-sm text-gray-500\">\r\n                        {item.product.brand}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                      <div className=\"text-gray-500\">\r\n                        <label\r\n                          htmlFor=\"quantity\"\r\n                          className=\"inline mr-5 text-sm font-medium leading-6 text-gray-900\"\r\n                        >\r\n                          Qty\r\n                        </label>\r\n                        <select onChange={(e) => handleQuantity(e, item)} value={item.quantity}>\r\n                          <option value=\"1\">1</option>\r\n                          <option value=\"2\">2</option>\r\n                          <option value=\"3\">3</option>\r\n                          <option value=\"4\">4</option>\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"flex\">\r\n                        <button\r\n                        onClick={e=>handleRemove(e, item.id)}\r\n                          type=\"button\"\r\n                          className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n          <div className=\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\">\r\n            <p>Number of Items in Cart</p>\r\n            <p>Items: {totalitems}</p>\r\n          </div>\r\n          <div className=\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\">\r\n            <p>Subtotal</p>\r\n            <p>${totalAmount}</p>\r\n          </div>\r\n          <p className=\"mt-0.5 text-sm text-gray-500\">\r\n            Shipping and taxes calculated at checkout.\r\n          </p>\r\n          <div className=\"mt-6\">\r\n            <Link\r\n              to=\"/checkout\"\r\n              className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\r\n            >\r\n              Checkout\r\n            </Link>\r\n          </div>\r\n          <div className=\"mt-6 flex justify-center text-center text-sm text-gray-500\">\r\n            <p>\r\n              or\r\n              <Link to=\"/\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                >\r\n                  Continue Shopping\r\n                  <span aria-hidden=\"true\"> &rarr;</span>\r\n                </button>\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"oJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,QAAQ,KAAQ,OAAO,CACjD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,CAAEC,UAAU,KAAQ,mBAAmB,CACtD,OAASC,SAAS,KAAQ,6BAA6B,CACvD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,eAAe,CAAEC,0BAA0B,CAAEC,gBAAgB,KAAQ,mBAAmB,CAC9G,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,eAAe,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAhB,QAAA,IAAAiB,SAAA,yBAEtD,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,GAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,IAAAkB,SAAA,CAAwBrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,GAAM,CAAAI,KAAK,CAAGxB,WAAW,CAACM,WAAW,CAAC,CACtC,GAAM,CAAAmB,UAAU,CAAGD,KAAK,CAACE,MAAM,CAAC,SAACC,KAAK,CAAEC,IAAI,QAAK,CAAAA,IAAI,CAACC,QAAQ,CAAGF,KAAK,GAAE,CAAC,CAAC,CAC1E,GAAM,CAAAG,WAAW,CAAGN,KAAK,CAACE,MAAM,CAC9B,SAACK,MAAM,CAAEH,IAAI,QAAK,CAAAjB,eAAe,CAACiB,IAAI,CAACI,OAAO,CAAC,CAAGJ,IAAI,CAACC,QAAQ,CAAGE,MAAM,GACxE,CACF,CAAC,CACD,GAAM,CAAAE,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,CAAC,CAAEN,IAAI,CAAK,CAClCV,QAAQ,CAACX,eAAe,CAAC,CAAE4B,EAAE,CAACP,IAAI,CAACO,EAAE,CAAEN,QAAQ,CAAE,CAACK,CAAC,CAACE,MAAM,CAACC,KAAM,CAAC,CAAC,CAAC,CACpEC,OAAO,CAACC,GAAG,CAACL,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAC7B,CAAC,CACD,GAAM,CAAAG,UAAU,CAAGxC,WAAW,CAACS,gBAAgB,CAAC,CAEhD,GAAM,CAAAgC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIP,CAAC,CAAEC,EAAE,CAAK,CAC9BjB,QAAQ,CAACV,0BAA0B,CAAC2B,EAAE,CAAC,CAAC,CAC1C,CAAC,CAED,mBACEpB,KAAA,CAAAC,SAAA,EAAA0B,QAAA,EACC,CAAClB,KAAK,CAACmB,MAAM,EAAIH,UAAU,eAAI3B,IAAA,CAACH,QAAQ,EAACkC,EAAE,CAAC,GAAG,CAACC,OAAO,CAAE,IAAK,CAAW,CAAC,cACzE9B,KAAA,QAAK+B,SAAS,CAAC,iDAAiD,CAAAJ,QAAA,eAC9D3B,KAAA,QAAK+B,SAAS,CAAC,4CAA4C,CAAAJ,QAAA,eACzD7B,IAAA,OAAIiC,SAAS,CAAC,iDAAiD,CAAAJ,QAAA,CAAC,MAEhE,CAAI,CAAC,cACL7B,IAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAJ,QAAA,cAC9B7B,IAAA,OAAIkC,IAAI,CAAC,MAAM,CAACD,SAAS,CAAC,gCAAgC,CAAAJ,QAAA,CACvDlB,KAAK,CAACwB,GAAG,CAAC,SAACpB,IAAI,qBACdb,KAAA,OAAkB+B,SAAS,CAAC,WAAW,CAAAJ,QAAA,eACrC7B,IAAA,QAAKiC,SAAS,CAAC,2EAA2E,CAAAJ,QAAA,cACxF7B,IAAA,QACEoC,GAAG,CAAErB,IAAI,CAACI,OAAO,CAACkB,SAAU,CAC5BC,GAAG,CAAEvB,IAAI,CAACI,OAAO,CAACoB,KAAM,CACxBN,SAAS,CAAC,0CAA0C,CACrD,CAAC,CACC,CAAC,cAEN/B,KAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAAAJ,QAAA,eACxC3B,KAAA,QAAA2B,QAAA,eACE3B,KAAA,QAAK+B,SAAS,CAAC,0DAA0D,CAAAJ,QAAA,eACvE7B,IAAA,OAAA6B,QAAA,cACE7B,IAAA,MAAGwC,IAAI,CAAEzB,IAAI,CAACI,OAAO,CAACG,EAAG,CAAAO,QAAA,CAAEd,IAAI,CAACI,OAAO,CAACoB,KAAK,CAAI,CAAC,CAChD,CAAC,cACLrC,KAAA,MAAG+B,SAAS,CAAC,MAAM,CAAAJ,QAAA,EAAC,GAAC,CAAC/B,eAAe,CAACiB,IAAI,CAACI,OAAO,CAAC,EAAI,CAAC,EACrD,CAAC,cACNnB,IAAA,MAAGiC,SAAS,CAAC,6DAA6D,CAAAJ,QAAA,CACvEd,IAAI,CAACI,OAAO,CAACsB,KAAK,CAClB,CAAC,EACD,CAAC,cACNvC,KAAA,QAAK+B,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,eAC5D3B,KAAA,QAAK+B,SAAS,CAAC,eAAe,CAAAJ,QAAA,eAC5B7B,IAAA,UACE0C,OAAO,CAAC,UAAU,CAClBT,SAAS,CAAC,yDAAyD,CAAAJ,QAAA,CACpE,KAED,CAAO,CAAC,cACR3B,KAAA,WAAQyC,QAAQ,CAAE,SAAAA,SAACtB,CAAC,QAAK,CAAAD,cAAc,CAACC,CAAC,CAAEN,IAAI,CAAC,EAAC,CAACS,KAAK,CAAET,IAAI,CAACC,QAAS,CAAAa,QAAA,eACrE7B,IAAA,WAAQwB,KAAK,CAAC,GAAG,CAAAK,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5B7B,IAAA,WAAQwB,KAAK,CAAC,GAAG,CAAAK,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5B7B,IAAA,WAAQwB,KAAK,CAAC,GAAG,CAAAK,QAAA,CAAC,GAAC,CAAQ,CAAC,cAC5B7B,IAAA,WAAQwB,KAAK,CAAC,GAAG,CAAAK,QAAA,CAAC,GAAC,CAAQ,CAAC,EACtB,CAAC,EACN,CAAC,cAEN7B,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAJ,QAAA,cACnB7B,IAAA,WACA4C,OAAO,CAAE,SAAAA,QAAAvB,CAAC,QAAE,CAAAO,YAAY,CAACP,CAAC,CAAEN,IAAI,CAACO,EAAE,CAAC,EAAC,CACnCuB,IAAI,CAAC,QAAQ,CACbZ,SAAS,CAAC,mDAAmD,CAAAJ,QAAA,CAC9D,QAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,EACH,CAAC,GA/CCd,IAAI,CAACO,EAgDV,CAAC,EACN,CAAC,CACA,CAAC,CACF,CAAC,EACH,CAAC,cAENpB,KAAA,QAAK+B,SAAS,CAAC,4CAA4C,CAAAJ,QAAA,eACzD3B,KAAA,QAAK+B,SAAS,CAAC,qGAAqG,CAAAJ,QAAA,eAClH7B,IAAA,MAAA6B,QAAA,CAAG,yBAAuB,CAAG,CAAC,cAC9B3B,KAAA,MAAA2B,QAAA,EAAG,SAAO,CAACjB,UAAU,EAAI,CAAC,EACvB,CAAC,cACNV,KAAA,QAAK+B,SAAS,CAAC,4EAA4E,CAAAJ,QAAA,eACzF7B,IAAA,MAAA6B,QAAA,CAAG,UAAQ,CAAG,CAAC,cACf3B,KAAA,MAAA2B,QAAA,EAAG,GAAC,CAACZ,WAAW,EAAI,CAAC,EAClB,CAAC,cACNjB,IAAA,MAAGiC,SAAS,CAAC,8BAA8B,CAAAJ,QAAA,CAAC,4CAE5C,CAAG,CAAC,cACJ7B,IAAA,QAAKiC,SAAS,CAAC,MAAM,CAAAJ,QAAA,cACnB7B,IAAA,CAACR,IAAI,EACHuC,EAAE,CAAC,WAAW,CACdE,SAAS,CAAC,8JAA8J,CAAAJ,QAAA,CACzK,UAED,CAAM,CAAC,CACJ,CAAC,cACN7B,IAAA,QAAKiC,SAAS,CAAC,4DAA4D,CAAAJ,QAAA,cACzE3B,KAAA,MAAA2B,QAAA,EAAG,IAED,cAAA7B,IAAA,CAACR,IAAI,EAACuC,EAAE,CAAC,GAAG,CAAAF,QAAA,cACV3B,KAAA,WACE2C,IAAI,CAAC,QAAQ,CACbZ,SAAS,CAAC,mDAAmD,CAAAJ,QAAA,EAC9D,mBAEC,cAAA7B,IAAA,SAAM,cAAY,MAAM,CAAA6B,QAAA,CAAC,SAAO,CAAM,CAAC,EACjC,CAAC,CACL,CAAC,EACN,CAAC,CACD,CAAC,EACH,CAAC,EACH,CAAC,EACN,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}