{"ast":null,"code":"import _objectSpread from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{increment,incrementAsync}from\"../authSlice\";import{Link,Navigate}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{selectLoggedInUser,createUserAsync}from\"../authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signup(){var dispatch=useDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var user=useSelector(selectLoggedInUser);console.log(errors);// watch input value by passing the name of it\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-auto w-24\",src:\"./urbanClothingLogo.png\",alt:\"Urban Clothing Logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Create an account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{noValidate:true,className:\"space-y-6\",onSubmit:handleSubmit(function(data){dispatch(createUserAsync({email:data.email,password:data.password,addresses:[],role:\"user\"}));console.log(data);}),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"email\"},register(\"email\",{required:\"Email is required\",pattern:{value:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,message:\"Please enter a valid email address\"}})),{},{type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"password\"},register(\"password\",{required:\"password is required\",pattern:{value:/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,message:\"- at least 8 characters\\n                        - must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number\\n                        - Can contain special characters\"}})),{},{type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.password.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Confirm Password\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"confirmPassword\"},register(\"confirmPassword\",{required:\"password is required\",validate:function validate(value,formValues){return value===formValues.password||\"Passwords do not match\";}})),{},{type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.confirmPassword.message})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Sign up\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Already a member?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\",children:\"Login\"})]})]})]})]})})});}","map":{"version":3,"names":["React","useState","useSelector","useDispatch","increment","incrementAsync","Link","Navigate","useForm","selectLoggedInUser","createUserAsync","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","dispatch","_useForm","register","handleSubmit","watch","errors","formState","user","console","log","children","to","replace","className","src","alt","noValidate","onSubmit","data","email","password","addresses","role","htmlFor","_objectSpread","id","required","pattern","value","message","type","validate","formValues","confirmPassword"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/auth/components/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { increment, incrementAsync } from \"../authSlice\";\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { selectLoggedInUser, createUserAsync } from \"../authSlice\";\r\n\r\nexport default function Signup() {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const user = useSelector(selectLoggedInUser);\r\n\r\n  console.log(errors); // watch input value by passing the name of it\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <>\r\n          {user && <Navigate to=\"/\" replace={true}></Navigate>}\r\n          <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n              <img\r\n                className=\"mx-auto h-auto w-24\"\r\n                src=\"./urbanClothingLogo.png\"\r\n                alt=\"Urban Clothing Logo\"\r\n              />\r\n              <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n                Create an account\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n              <form\r\n                noValidate\r\n                className=\"space-y-6\"\r\n                onSubmit={handleSubmit((data) => {\r\n                  dispatch(\r\n                    createUserAsync({\r\n                      email: data.email,\r\n                      password: data.password,\r\n                      addresses: [],\r\n                      role: \"user\",\r\n                    })\r\n                  );\r\n                  console.log(data);\r\n                })}\r\n              >\r\n                <div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <label\r\n                      htmlFor=\"email\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Email address\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                    <input\r\n                      id=\"email\"\r\n                      {...register(\"email\", {\r\n                        required: \"Email is required\",\r\n                        pattern: {\r\n                          value:\r\n                            /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,\r\n                          message: \"Please enter a valid email address\",\r\n                        },\r\n                      })}\r\n                      type=\"email\"\r\n                      className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    />\r\n                    {errors.email && (\r\n                      <p className=\"text-red-500\">{errors.email.message}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <label\r\n                      htmlFor=\"password\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Password\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                    <input\r\n                      id=\"password\"\r\n                      {...register(\"password\", {\r\n                        required: \"password is required\",\r\n                        pattern: {\r\n                          value:\r\n                            /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,\r\n                          message: `- at least 8 characters\r\n                        - must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number\r\n                        - Can contain special characters`,\r\n                        },\r\n                      })}\r\n                      type=\"password\"\r\n                      className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    />\r\n                    {errors.password && (\r\n                      <p className=\"text-red-500\">{errors.password.message}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <label\r\n                      htmlFor=\"password\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Confirm Password\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                    <input\r\n                      id=\"confirmPassword\"\r\n                      {...register(\"confirmPassword\", {\r\n                        required: \"password is required\",\r\n                        validate: (value, formValues) =>\r\n                          value === formValues.password ||\r\n                          \"Passwords do not match\",\r\n                      })}\r\n                      type=\"password\"\r\n                      className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    />\r\n                    {errors.confirmPassword && (\r\n                      <p className=\"text-red-500\">\r\n                        {errors.confirmPassword.message}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n                  >\r\n                    Sign up\r\n                  </button>\r\n                </div>\r\n              </form>\r\n\r\n              <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n                Already a member?{\" \"}\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n                >\r\n                  Login\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}