{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _ref,_ref3,_ref5;import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import{createUser,loginUser,signOut,checkAuth}from\"./authAPI\";import{updateUser}from\"../user/userAPI\";var initialState={value:0,status:\"idle\",loggedInUserToken:null,error:null,userChecked:false};export var createUserAsync=createAsyncThunk(\"user/createUser\",function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userData){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createUser(userData);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});export var loginUserAsync=createAsyncThunk(\"user/loginUser\",function(_x2,_x3){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(loginInfo,_ref2){var rejectWithValue,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:rejectWithValue=_ref2.rejectWithValue;_context2.prev=1;_context2.next=4;return loginUser(loginInfo);case 4:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);return _context2.abrupt(\"return\",rejectWithValue(_context2.t0));case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}))).apply(this,arguments);});export var checkAuthAsync=createAsyncThunk(\"user/checkAuth\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return checkAuth();case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);})));export var signOutAsync=createAsyncThunk(\"user/signOut\",function(_x4){return(_ref5=_ref5||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(loginInfo){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return signOut(loginInfo);case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}},_callee4);}))).apply(this,arguments);});export var authSlice=createSlice({name:\"user\",initialState:initialState,// The `reducers` field lets us define reducers and generate associated actions\nreducers:{increment:function increment(state){state.value+=1;}},// The `extraReducers` field lets the slice handle actions defined elsewhere,\n// including actions generated by createAsyncThunk or in other slices.\nextraReducers:function extraReducers(builder){builder.addCase(createUserAsync.pending,function(state){state.status=\"loading\";}).addCase(createUserAsync.fulfilled,function(state,action){state.status=\"idle\";state.loggedInUserToken=action.payload;}).addCase(loginUserAsync.pending,function(state){state.status=\"loading\";}).addCase(loginUserAsync.fulfilled,function(state,action){state.status=\"idle\";state.loggedInUserToken=action.payload;}).addCase(loginUserAsync.rejected,function(state,action){state.status=\"idle\";state.error=action.payload;}).addCase(signOutAsync.pending,function(state){state.status=\"loading\";}).addCase(signOutAsync.fulfilled,function(state,action){state.status=\"idle\";state.loggedInUserToken=null;}).addCase(checkAuthAsync.pending,function(state){state.status=\"loading\";}).addCase(checkAuthAsync.fulfilled,function(state,action){state.status=\"idle\";state.loggedInUserToken=action.payload;state.userChecked=true;}).addCase(checkAuthAsync.rejected,function(state,action){state.status=\"idle\";state.userChecked=true;});}});export var selectLoggedInUser=function selectLoggedInUser(state){return state.auth.loggedInUserToken;};var increment=authSlice.actions.increment;export{increment};export default authSlice.reducer;export var selectError=function selectError(state){return state.auth.error;};export var selectUserChecked=function selectUserChecked(state){return state.auth.userChecked;};","map":{"version":3,"names":["createAsyncThunk","createSlice","createUser","loginUser","signOut","checkAuth","updateUser","initialState","value","status","loggedInUserToken","error","userChecked","createUserAsync","_x","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","apply","arguments","loginUserAsync","_x2","_x3","_ref3","_callee2","loginInfo","_ref2","rejectWithValue","_callee2$","_context2","t0","console","log","checkAuthAsync","_callee3","_callee3$","_context3","signOutAsync","_x4","_ref5","_callee4","_callee4$","_context4","authSlice","name","reducers","increment","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","selectLoggedInUser","auth","actions","reducer","selectError","selectUserChecked"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/auth/authSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { createUser, loginUser, signOut, checkAuth } from \"./authAPI\";\r\nimport { updateUser } from \"../user/userAPI\";\r\n\r\nconst initialState = {\r\n  value: 0,\r\n  status: \"idle\",\r\n  loggedInUserToken: null,\r\n  error: null,\r\n  userChecked: false,\r\n};\r\n\r\nexport const createUserAsync = createAsyncThunk(\r\n  \"user/createUser\",\r\n  async (userData) => {\r\n    const response = await createUser(userData);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const loginUserAsync = createAsyncThunk(\r\n  \"user/loginUser\",\r\n  async (loginInfo, {rejectWithValue}) => {\r\n    try {\r\n      const response = await loginUser(loginInfo);\r\n      // The value we return becomes the `fulfilled` action payload\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const checkAuthAsync = createAsyncThunk(\r\n  \"user/checkAuth\",\r\nasync () => {\r\n  try {\r\n    const response = await checkAuth();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n});\r\n\r\nexport const signOutAsync = createAsyncThunk(\r\n  \"user/signOut\",\r\n  async (loginInfo) => {\r\n    const response = await signOut(loginInfo);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      state.value += 1;\r\n    },\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createUserAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(createUserAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.loggedInUserToken = action.payload;\r\n      })\r\n      .addCase(loginUserAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(loginUserAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.loggedInUserToken = action.payload;\r\n      })\r\n      .addCase(loginUserAsync.rejected, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(signOutAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(signOutAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.loggedInUserToken = null;\r\n      })\r\n      .addCase(checkAuthAsync.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(checkAuthAsync.fulfilled, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.loggedInUserToken = action.payload;\r\n        state.userChecked = true;\r\n      })\r\n      .addCase(checkAuthAsync.rejected, (state, action) => {\r\n        state.status = \"idle\";\r\n        state.userChecked = true;\r\n      });\r\n  },\r\n});\r\nexport const selectLoggedInUser = (state) => state.auth.loggedInUserToken;\r\nexport const { increment } = authSlice.actions;\r\nexport default authSlice.reducer;\r\nexport const selectError = (state) => state.auth.error;\r\nexport const selectUserChecked = (state) => state.auth.userChecked;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}