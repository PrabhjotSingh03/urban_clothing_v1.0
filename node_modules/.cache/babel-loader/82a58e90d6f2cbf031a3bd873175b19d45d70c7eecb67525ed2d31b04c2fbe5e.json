{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _ref,_ref2;import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{fetchCount}from'./userAPI';import{fetchUserOrders,updateUser,fetchLoggedInUser}from'./userAPI';var initialState={status:'idle',userInfo:null};export var fetchUserOrdersAsync=createAsyncThunk('user/fetchUserOrders',function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchUserOrders();case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});export var updateUserAsync=createAsyncThunk('user/updateUser',function(_x2){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(update){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateUser(update);case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);});export var fetchLoggedInUserAsync=createAsyncThunk('user/fetchLoggedInUser',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchLoggedInUser();case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);})));export var userSlice=createSlice({name:'user',initialState:initialState,// The `reducers` field lets us define reducers and generate associated actions\nreducers:{increment:function increment(state){state.value+=1;}},// The `extraReducers` field lets the slice handle actions defined elsewhere,\n// including actions generated by createAsyncThunk or in other slices.\nextraReducers:function extraReducers(builder){builder.addCase(fetchUserOrdersAsync.pending,function(state){state.status='loading';}).addCase(fetchUserOrdersAsync.fulfilled,function(state,action){state.status='idle';state.userInfo.orders=action.payload;}).addCase(updateUserAsync.pending,function(state){state.status='loading';}).addCase(updateUserAsync.fulfilled,function(state,action){state.status='idle';state.userInfo=action.payload;}).addCase(fetchLoggedInUserAsync.pending,function(state){state.status='loading';}).addCase(fetchLoggedInUserAsync.fulfilled,function(state,action){state.status='idle';state.userInfo=action.payload;});}});export var selectUserInfo=function selectUserInfo(state){return state.user.userInfo;};export var selectOrdersOfUser=function selectOrdersOfUser(state){return state.user.userInfo.orders;};export default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchCount","fetchUserOrders","updateUser","fetchLoggedInUser","initialState","status","userInfo","fetchUserOrdersAsync","_x","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","response","wrap","_callee$","_context","prev","next","sent","abrupt","data","stop","apply","arguments","updateUserAsync","_x2","_ref2","_callee2","update","_callee2$","_context2","fetchLoggedInUserAsync","_callee3","_callee3$","_context3","userSlice","name","reducers","increment","state","value","extraReducers","builder","addCase","pending","fulfilled","action","orders","payload","selectUserInfo","user","selectOrdersOfUser","reducer"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/user/userSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { fetchCount } from './userAPI';\r\nimport { fetchUserOrders, updateUser, fetchLoggedInUser } from './userAPI';\r\n\r\nconst initialState = {\r\n  status: 'idle',\r\n  userInfo: null,\r\n};\r\n\r\n\r\nexport const fetchUserOrdersAsync = createAsyncThunk(\r\n  'user/fetchUserOrders',\r\n  async (id) => {\r\n    const response = await fetchUserOrders();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const updateUserAsync = createAsyncThunk(\r\n  'user/updateUser',\r\n  async (update) => {\r\n    const response = await updateUser(update);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const fetchLoggedInUserAsync = createAsyncThunk(\r\n  'user/fetchLoggedInUser',\r\n  async () => {\r\n    const response = await fetchLoggedInUser();\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      state.value += 1;\r\n    },\r\n\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchUserOrdersAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchUserOrdersAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.userInfo.orders = action.payload;\r\n      })\r\n      .addCase(updateUserAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(updateUserAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.userInfo = action.payload;\r\n      })\r\n      .addCase(fetchLoggedInUserAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchLoggedInUserAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.userInfo = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const selectUserInfo = (state) => state.user.userInfo;\r\nexport const selectOrdersOfUser = (state) => state.user.userInfo.orders;\r\n\r\nexport default userSlice.reducer;"],"mappings":"uUAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,OAASC,UAAU,KAAQ,WAAW,CACtC,OAASC,eAAe,CAAEC,UAAU,CAAEC,iBAAiB,KAAQ,WAAW,CAE1E,GAAM,CAAAC,YAAY,CAAG,CACnBC,MAAM,CAAE,MAAM,CACdC,QAAQ,CAAE,IACZ,CAAC,CAGD,MAAO,IAAM,CAAAC,oBAAoB,CAAGT,gBAAgB,CAClD,sBAAsB,UAAAU,EAAA,SAAAC,IAAA,CAAAA,IAAA,EAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACtB,SAAAC,QAAOC,EAAE,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACgB,CAAAnB,eAAe,CAAC,CAAC,QAAlCc,QAAQ,CAAAG,QAAA,CAAAG,IAAA,QAAAH,QAAA,CAAAI,MAAA,UAEPP,QAAQ,CAACQ,IAAI,0BAAAL,QAAA,CAAAM,IAAA,MAAAX,OAAA,GACrB,IAAAY,KAAA,MAAAC,SAAA,GACH,CAAC,CAED,MAAO,IAAM,CAAAC,eAAe,CAAG7B,gBAAgB,CAC7C,iBAAiB,UAAA8B,GAAA,SAAAC,KAAA,CAAAA,KAAA,EAAAnB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACjB,SAAAkB,SAAOC,MAAM,MAAAhB,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAgB,UAAAC,SAAA,iBAAAA,SAAA,CAAAd,IAAA,CAAAc,SAAA,CAAAb,IAAA,SAAAa,SAAA,CAAAb,IAAA,SACY,CAAAlB,UAAU,CAAC6B,MAAM,CAAC,QAAnChB,QAAQ,CAAAkB,SAAA,CAAAZ,IAAA,QAAAY,SAAA,CAAAX,MAAA,UAEPP,QAAQ,CAACQ,IAAI,0BAAAU,SAAA,CAAAT,IAAA,MAAAM,QAAA,GACrB,IAAAL,KAAA,MAAAC,SAAA,GACH,CAAC,CAED,MAAO,IAAM,CAAAQ,sBAAsB,CAAGpC,gBAAgB,CACpD,wBAAwB,cAAAY,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACxB,SAAAuB,SAAA,MAAApB,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAoB,UAAAC,SAAA,iBAAAA,SAAA,CAAAlB,IAAA,CAAAkB,SAAA,CAAAjB,IAAA,SAAAiB,SAAA,CAAAjB,IAAA,SACyB,CAAAjB,iBAAiB,CAAC,CAAC,QAApCY,QAAQ,CAAAsB,SAAA,CAAAhB,IAAA,QAAAgB,SAAA,CAAAf,MAAA,UAEPP,QAAQ,CAACQ,IAAI,0BAAAc,SAAA,CAAAb,IAAA,MAAAW,QAAA,GACrB,EACH,CAAC,CAED,MAAO,IAAM,CAAAG,SAAS,CAAGvC,WAAW,CAAC,CACnCwC,IAAI,CAAE,MAAM,CACZnC,YAAY,CAAZA,YAAY,CACZ;AACAoC,QAAQ,CAAE,CACRC,SAAS,CAAE,SAAAA,UAACC,KAAK,CAAK,CACpBA,KAAK,CAACC,KAAK,EAAI,CAAC,CAClB,CAEF,CAAC,CACD;AACA;AACAC,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CACJC,OAAO,CAACvC,oBAAoB,CAACwC,OAAO,CAAE,SAACL,KAAK,CAAK,CAChDA,KAAK,CAACrC,MAAM,CAAG,SAAS,CAC1B,CAAC,CAAC,CACDyC,OAAO,CAACvC,oBAAoB,CAACyC,SAAS,CAAE,SAACN,KAAK,CAAEO,MAAM,CAAK,CAC1DP,KAAK,CAACrC,MAAM,CAAG,MAAM,CACrBqC,KAAK,CAACpC,QAAQ,CAAC4C,MAAM,CAAGD,MAAM,CAACE,OAAO,CACxC,CAAC,CAAC,CACDL,OAAO,CAACnB,eAAe,CAACoB,OAAO,CAAE,SAACL,KAAK,CAAK,CAC3CA,KAAK,CAACrC,MAAM,CAAG,SAAS,CAC1B,CAAC,CAAC,CACDyC,OAAO,CAACnB,eAAe,CAACqB,SAAS,CAAE,SAACN,KAAK,CAAEO,MAAM,CAAK,CACrDP,KAAK,CAACrC,MAAM,CAAG,MAAM,CACrBqC,KAAK,CAACpC,QAAQ,CAAG2C,MAAM,CAACE,OAAO,CACjC,CAAC,CAAC,CACDL,OAAO,CAACZ,sBAAsB,CAACa,OAAO,CAAE,SAACL,KAAK,CAAK,CAClDA,KAAK,CAACrC,MAAM,CAAG,SAAS,CAC1B,CAAC,CAAC,CACDyC,OAAO,CAACZ,sBAAsB,CAACc,SAAS,CAAE,SAACN,KAAK,CAAEO,MAAM,CAAK,CAC5DP,KAAK,CAACrC,MAAM,CAAG,MAAM,CACrBqC,KAAK,CAACpC,QAAQ,CAAG2C,MAAM,CAACE,OAAO,CACjC,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIV,KAAK,QAAK,CAAAA,KAAK,CAACW,IAAI,CAAC/C,QAAQ,GAC5D,MAAO,IAAM,CAAAgD,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIZ,KAAK,QAAK,CAAAA,KAAK,CAACW,IAAI,CAAC/C,QAAQ,CAAC4C,MAAM,GAEvE,cAAe,CAAAZ,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}