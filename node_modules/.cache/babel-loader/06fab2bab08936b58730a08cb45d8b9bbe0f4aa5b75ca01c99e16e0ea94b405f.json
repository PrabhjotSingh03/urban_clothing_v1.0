{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{isRejected}from\"@reduxjs/toolkit\";export function createUser(userData){var _ref;return new Promise(function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8000/auth/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(userData)});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;resolve({data:data});case 7:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});}export function checkUser(loginInfo){var _ref2;return new Promise(function(_x2,_x3){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve,reject){var response,data,error;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:8000/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(loginInfo)});case 3:response=_context2.sent;if(!response.ok){_context2.next=11;break;}_context2.next=7;return response.json();case 7:data=_context2.sent;resolve({data:data});_context2.next=15;break;case 11:_context2.next=13;return response.json();case 13:error=_context2.sent;reject(error);case 15:_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](0);reject(_context2.t0);case 20:case\"end\":return _context2.stop();}},_callee2,null,[[0,17]]);}))).apply(this,arguments);});}export function signOut(userId){var _ref3;return new Promise(function(_x4){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:resolve({data:\"successfully signed out\"});case 1:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);});}","map":{"version":3,"names":["isRejected","createUser","userData","_ref","Promise","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","stop","apply","arguments","checkUser","loginInfo","_ref2","_x2","_x3","_callee2","reject","error","_callee2$","_context2","ok","t0","signOut","userId","_ref3","_x4","_callee3","_callee3$","_context3"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/auth/authAPI.js"],"sourcesContent":["import { isRejected } from \"@reduxjs/toolkit\";\r\n\r\nexport function createUser(userData) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/auth/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userData),\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}\r\n\r\nexport function checkUser(loginInfo) {\r\n  return new Promise(async (resolve, reject) => {\r\n    // const email = loginInfo.email;\r\n    // const password = loginInfo.password;\r\n    try {\r\n      const response = await fetch(\"http://localhost:8000/auth/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(loginInfo),\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        resolve({ data });\r\n      } else {\r\n        const error = await response.json();\r\n        reject(error);\r\n      }\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n    // const data = await response.json();\r\n    // console.log({data});\r\n    // if(data.length){\r\n    //   if(password===data[0].password){\r\n    //     resolve({data:data[0]})\r\n    //   }else{\r\n    //     reject({message:'User not found'})\r\n    //   }\r\n    // }else{\r\n    //   reject({message:'User not found'})\r\n    // }\r\n  });\r\n}\r\n\r\nexport function signOut(userId) {\r\n  return new Promise(async (resolve) => {\r\n    resolve({ data: \"successfully signed out\" });\r\n  });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}