{"ast":null,"code":"import _objectSpread from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{Link,Navigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{increment,incrementAsync,selectError,selectLoggedInUser}from\"../authSlice\";import{useForm}from\"react-hook-form\";import{checkUserAsync}from\"../authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var dispatch=useDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var error=useSelector(selectError);var user=useSelector(selectLoggedInUser);console.log(errors);// watch input value by passing the name of it\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(_Fragment,{children:[user&&/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-24 w-24\",src:\"./urbanClothingLogo.png\",alt:\"Urban Clothing Logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\",children:\"Login to your account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:handleSubmit(function(data){dispatch(checkUserAsync({email:data.email,password:data.password}));}),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Email address\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"email\"},register(\"email\",{required:\"Email is required\",pattern:{value:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,message:\"Please enter a valid email address\"}})),{},{type:\"email\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.email.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium leading-6 text-gray-900\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"password\"},register(\"password\",{required:\"password is required\"})),{},{type:\"password\",className:\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"})),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errors.password.message}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error.message})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-10 text-center text-sm text-gray-500\",children:[\"Not a member?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\",children:\"Create An Account\"})]})]})]})]})})});}","map":{"version":3,"names":["React","useState","Link","Navigate","useSelector","useDispatch","increment","incrementAsync","selectError","selectLoggedInUser","useForm","checkUserAsync","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","dispatch","_useForm","register","handleSubmit","watch","errors","formState","error","user","console","log","children","to","replace","className","src","alt","noValidate","onSubmit","data","email","password","htmlFor","_objectSpread","id","required","pattern","value","message","type"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/auth/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Navigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { increment, incrementAsync, selectError, selectLoggedInUser } from \"../authSlice\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { checkUserAsync } from \"../authSlice\";\r\n\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const error = useSelector(selectError);\r\n  const user = useSelector(selectLoggedInUser);\r\n\r\n  console.log(errors); // watch input value by passing the name of it\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <>\r\n        {user && <Navigate to=\"/\" replace={true}></Navigate>}\r\n          <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n            <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n              <img\r\n                className=\"mx-auto h-24 w-24\"\r\n                src=\"./urbanClothingLogo.png\"\r\n                alt=\"Urban Clothing Logo\"\r\n              />\r\n              <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\r\n                Login to your account\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n              <form\r\n                noValidate\r\n                onSubmit={handleSubmit((data) => {\r\n                  dispatch(\r\n                    checkUserAsync({\r\n                      email: data.email,\r\n                      password: data.password,\r\n                    })\r\n                  );\r\n                })}\r\n                className=\"space-y-6\"\r\n              >\r\n                <div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <label\r\n                      htmlFor=\"email\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Email address\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                  <input\r\n                      id=\"email\"\r\n                      {...register(\"email\", {\r\n                        required: \"Email is required\",\r\n                        pattern: {\r\n                          value:\r\n                            /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,\r\n                          message: \"Please enter a valid email address\",\r\n                        },\r\n                      })}\r\n                      type=\"email\"\r\n                      className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    />\r\n                    {errors.email && (\r\n                      <p className=\"text-red-500\">{errors.email.message}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <label\r\n                      htmlFor=\"password\"\r\n                      className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n                    >\r\n                      Password\r\n                    </label>\r\n                    <div className=\"text-sm\">\r\n                      <Link\r\n                        to=\"/forgotpassword\"\r\n                        className=\"font-semibold text-indigo-600 hover:text-indigo-500\"\r\n                      >\r\n                        Forgot password?\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-2\">\r\n                  <input\r\n                      id=\"password\"\r\n                      {...register(\"password\", {\r\n                        required: \"password is required\",\r\n                      })}\r\n                      type=\"password\"\r\n                      className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                    />\r\n                    {errors.password && (\r\n                      <p className=\"text-red-500\">{errors.password.message}</p>\r\n                    )}\r\n                    {error && (\r\n                      <p className=\"text-red-500\">{error.message}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </div>\r\n              </form>\r\n\r\n              <p className=\"mt-10 text-center text-sm text-gray-500\">\r\n                Not a member?{\" \"}\r\n                <Link\r\n                  to=\"/signup\"\r\n                  className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\r\n                >\r\n                  Create An Account\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}