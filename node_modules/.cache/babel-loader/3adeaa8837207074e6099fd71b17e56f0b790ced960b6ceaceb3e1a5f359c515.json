{"ast":null,"code":"import _regeneratorRuntime from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export function fetchProductById(id){var _ref;return new Promise(function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/products/'+id);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;resolve({data:data});case 7:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);});}export function fetchProductsByFilters(filter,sort,pagination,admin){var _ref2;var queryString='';for(var key in filter){var categoryValues=filter[key];if(categoryValues.length){var lastCategoryValue=categoryValues[categoryValues.length-1];queryString+=\"\".concat(key,\"=\").concat(lastCategoryValue,\"&\");}}if(admin){queryString+=\"admin=true\";}for(var _key in sort){queryString+=\"\".concat(_key,\"=\").concat(sort[_key],\"&\");}for(var _key2 in pagination){queryString+=\"\".concat(_key2,\"=\").concat(pagination[_key2],\"&\");}return new Promise(function(_x2){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve){var response,data,totalItems;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:8000/products?'+queryString);case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;_context2.next=8;return response.headers.get('X-Total-Count');case 8:totalItems=_context2.sent;resolve({data:{products:data,totalItems:+totalItems}});case 10:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);});}export function fetchCategories(){var _ref3;return new Promise(function(_x3){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('http://localhost:8000/categories');case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;resolve({data:data});case 7:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);});}export function fetchBrands(){var _ref4;return new Promise(function(_x4){return(_ref4=_ref4||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:8000/brands');case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;resolve({data:data});case 7:case\"end\":return _context4.stop();}},_callee4);}))).apply(this,arguments);});}export function productCreate(product){var _ref5;return new Promise(function(_x5){return(_ref5=_ref5||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch('http://localhost:8000/products/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(product)});case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:data=_context5.sent;resolve({data:data});case 7:case\"end\":return _context5.stop();}},_callee5);}))).apply(this,arguments);});}export function productUpdate(update){var _ref6;return new Promise(function(_x6){return(_ref6=_ref6||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(resolve){var response,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"http://localhost:8000/products/\"+update.id,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(update)});case 2:response=_context6.sent;_context6.next=5;return response.json();case 5:data=_context6.sent;resolve({data:data});case 7:case\"end\":return _context6.stop();}},_callee6);}))).apply(this,arguments);});}","map":{"version":3,"names":["fetchProductById","id","_ref","Promise","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","fetchProductsByFilters","filter","sort","pagination","admin","_ref2","queryString","key","categoryValues","length","lastCategoryValue","concat","_x2","_callee2","totalItems","_callee2$","_context2","headers","get","products","fetchCategories","_ref3","_x3","_callee3","_callee3$","_context3","fetchBrands","_ref4","_x4","_callee4","_callee4$","_context4","productCreate","product","_ref5","_x5","_callee5","_callee5$","_context5","method","body","JSON","stringify","productUpdate","update","_ref6","_x6","_callee6","_callee6$","_context6"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/product-list/productAPI.js"],"sourcesContent":["export function fetchProductById(id) {\r\n  return new Promise(async(resolve) =>{\r\n    const response = await fetch('http://localhost:8000/products/' + id);\r\n    const data = await response.json();\r\n    resolve({data});\r\n  }\r\n  );\r\n}\r\n\r\nexport function fetchProductsByFilters(filter, sort, pagination, admin) {\r\n  let queryString = '';\r\n  for(let key in filter){\r\n    const categoryValues = filter[key];\r\n    if(categoryValues.length){\r\n      const lastCategoryValue = categoryValues[categoryValues.length-1];\r\n      queryString += `${key}=${lastCategoryValue}&`\r\n    }\r\n  }\r\n\r\n  if(admin){\r\n    queryString += `admin=true`;\r\n  }\r\n\r\n  for(let key in sort){\r\n    queryString += `${key}=${sort[key]}&`\r\n  }\r\n\r\n  for(let key in pagination){\r\n    queryString += `${key}=${pagination[key]}&`\r\n  }\r\n\r\n\r\n  return new Promise(async(resolve) =>{\r\n    const response = await fetch('http://localhost:8000/products?' + queryString);\r\n    const data = await response.json();\r\n    const totalItems = await response.headers.get('X-Total-Count');\r\n    resolve({data:{products:data,totalItems:+totalItems}});\r\n  }\r\n  );\r\n}\r\n\r\nexport function fetchCategories() {\r\n  return new Promise(async(resolve) =>{\r\n    const response = await fetch('http://localhost:8000/categories')\r\n    const data = await response.json();\r\n    resolve({data});\r\n  }\r\n  );\r\n}\r\nexport function fetchBrands() {\r\n  return new Promise(async(resolve) =>{\r\n    const response = await fetch('http://localhost:8000/brands')\r\n    const data = await response.json();\r\n    resolve({data});\r\n  }\r\n  );\r\n}\r\n\r\nexport function productCreate(product) {\r\n  return new Promise(async(resolve) =>{\r\n    const response = await fetch('http://localhost:8000/products/',{\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(product)\r\n    });\r\n    const data = await response.json();\r\n    resolve({data});\r\n  }\r\n  );\r\n}\r\n\r\nexport function productUpdate(update) {\r\n  return new Promise(async (resolve) => {\r\n    const response = await fetch(\"http://localhost:8000/products/\" + update.id, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(update),\r\n    });\r\n    const data = await response.json();\r\n    resolve({ data });\r\n  });\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}