{"ast":null,"code":"import _slicedToArray from\"D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{selectCount,selectUserInfo}from\"../userSlice\";import{selectLoggedInUser}from\"../../auth/authSlice\";import{fetchUserOrdersAsync}from\"../userSlice\";import{selectOrdersOfUser}from\"../userSlice\";import{discountedPrice}from\"../../../app/constants\";import{ITEMS_PER_PAGE}from\"../../../app/constants\";import Pagination from\"../../common/Pagination\";import{selectOrdersTotal}from\"../../order/orderSlice\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function UserOrders(){var dispatch=useDispatch();var orders=useSelector(selectOrdersOfUser);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var pageHandle=function pageHandle(page){setPage(page);};var ordersTotal=useSelector(selectOrdersTotal);useEffect(function(){var pagination={_page:page,_limit:ITEMS_PER_PAGE};dispatch(fetchUserOrdersAsync(pagination));},[dispatch,page]);return/*#__PURE__*/_jsxs(\"div\",{children:[orders&&orders.map(function(order,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold tracking-tight text-gray-900\",children:[\"Order Id # \",order.id]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-1xl font-bold tracking-tight text-red-900\",children:[\"Order Status: \",order.status]}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-root mt-10\",children:/*#__PURE__*/_jsx(\"ul\",{role:\"list\",className:\"-my-6 divide-y divide-gray-200\",children:order.items.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.thumbnail,alt:item.product.title,className:\"h-full w-full object-cover object-center\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-1 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:item.product.id,children:item.product.title})}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"$\",discountedPrice(item.product)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"flex flex-1 items-end justify-between text-sm text-gray-500\",children:item.product.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-end justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"quantity\",className:\"inline mr-5 text-sm font-medium leading-6 text-gray-900\",children:[\"Quantity: \",item.quantity]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex\"})]})]})]},item.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Number of Items in Cart\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Items: \",order.totalitems]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",order.totalAmount]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-0.5 text-sm text-gray-500\",children:\"Shipping Address:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex min-w-0 gap-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-auto\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold leading-6 text-gray-900\",children:[\"Name: \",order.selectedAddress.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 truncate text-xs leading-5 text-gray-500\",children:[\"Street: \",order.selectedAddress.street]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"City: \",order.selectedAddress.city]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Postal Code: \",order.selectedAddress.postalcode]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Country: \",order.selectedAddress.country]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Province: \",order.selectedAddress.state]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-6 text-gray-900\",children:[\"Phone: \",order.selectedAddress.phone]})]})]})]})]})},index);}),/*#__PURE__*/_jsx(Pagination,{page:page,setPage:setPage,handlePage:pageHandle,totalItems:ordersTotal})]});}","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","selectCount","selectUserInfo","selectLoggedInUser","fetchUserOrdersAsync","selectOrdersOfUser","discountedPrice","ITEMS_PER_PAGE","Pagination","selectOrdersTotal","jsxs","_jsxs","jsx","_jsx","UserOrders","dispatch","orders","_useState","_useState2","_slicedToArray","page","setPage","pageHandle","ordersTotal","pagination","_page","_limit","children","map","order","index","className","id","status","role","items","item","src","product","thumbnail","alt","title","href","brand","htmlFor","quantity","totalitems","totalAmount","selectedAddress","name","street","city","postalcode","country","state","phone","handlePage","totalItems"],"sources":["D:/Humber 2023/Semester 3/Capstone Project/urban_clothing_v1.0/src/features/user/components/UserOrders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectCount, selectUserInfo } from \"../userSlice\";\r\nimport { selectLoggedInUser } from \"../../auth/authSlice\";\r\nimport { fetchUserOrdersAsync } from \"../userSlice\";\r\nimport { selectOrdersOfUser } from \"../userSlice\";\r\nimport { discountedPrice } from \"../../../app/constants\";\r\nimport { ITEMS_PER_PAGE } from \"../../../app/constants\";\r\nimport Pagination from \"../../common/Pagination\";\r\nimport { selectOrdersTotal } from \"../../order/orderSlice\";\r\n\r\nexport default function UserOrders() {\r\n  const dispatch = useDispatch();\r\n  const orders = useSelector(selectOrdersOfUser);\r\n  const [page, setPage] = useState(1);\r\n  const pageHandle = (page) => {\r\n    setPage(page);\r\n  };\r\n  const ordersTotal = useSelector(selectOrdersTotal);\r\n\r\n  useEffect(() => {\r\n    const pagination = { _page: page, _limit: ITEMS_PER_PAGE };\r\n    dispatch(fetchUserOrdersAsync(pagination));\r\n  }, [dispatch, page]);\r\n  return (\r\n    <div>\r\n      {orders &&\r\n        orders.map((order, index) => (\r\n          <div key={index}>\r\n            <div className=\"mx-auto bg-white max-w-2xl px-4 sm:px-6 lg:px-8\">\r\n              <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n                <h1 className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n                  Order Id # {order.id}\r\n                </h1>\r\n                <h2 className=\"text-1xl font-bold tracking-tight text-red-900\">\r\n                  Order Status: {order.status}\r\n                </h2>\r\n                <div className=\"flow-root mt-10\">\r\n                  <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\r\n                    {order.items.map((item) => (\r\n                      <li key={item.id} className=\"flex py-6\">\r\n                        <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\r\n                          <img\r\n                            src={item.product.thumbnail}\r\n                            alt={item.product.title}\r\n                            className=\"h-full w-full object-cover object-center\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"ml-4 flex flex-1 flex-col\">\r\n                          <div>\r\n                            <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                              <h3>\r\n                                <a href={item.product.id}>\r\n                                  {item.product.title}\r\n                                </a>\r\n                              </h3>\r\n                              <p className=\"ml-4\">\r\n                                ${discountedPrice(item.product)}\r\n                              </p>\r\n                            </div>\r\n                            <p className=\"flex flex-1 items-end justify-between text-sm text-gray-500\">\r\n                              {item.product.brand}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"flex flex-1 items-end justify-between text-sm\">\r\n                            <div className=\"text-gray-500\">\r\n                              <label\r\n                                htmlFor=\"quantity\"\r\n                                className=\"inline mr-5 text-sm font-medium leading-6 text-gray-900\"\r\n                              >\r\n                                Quantity: {item.quantity}\r\n                              </label>\r\n                            </div>\r\n\r\n                            <div className=\"flex\"></div>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\r\n                <div className=\"flex justify-between text-base font-medium text-gray-900 border-b border-gray-200 px-4 py-6 sm:px-6\">\r\n                  <p>Number of Items in Cart</p>\r\n                  <p>Items: {order.totalitems}</p>\r\n                </div>\r\n                <div className=\"flex justify-between text-base font-medium text-gray-900 px-4 py-6 sm:px-6\">\r\n                  <p>Subtotal</p>\r\n                  <p>${order.totalAmount}</p>\r\n                </div>\r\n                <p className=\"mt-0.5 text-sm text-gray-500\">\r\n                  Shipping Address:\r\n                </p>\r\n                <div className=\"flex justify-between gap-x-6 px-5 py-5 border-solid border-2 border-gray-200\">\r\n                  <div className=\"flex min-w-0 gap-x-4\">\r\n                    <div className=\"min-w-0 flex-auto\">\r\n                      <p className=\"text-sm font-semibold leading-6 text-gray-900\">\r\n                        Name: {order.selectedAddress.name}\r\n                      </p>\r\n                      <p className=\"mt-1 truncate text-xs leading-5 text-gray-500\">\r\n                        Street: {order.selectedAddress.street}\r\n                      </p>\r\n                      <p className=\"text-sm leading-6 text-gray-900\">\r\n                        City: {order.selectedAddress.city}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\">\r\n                    <p className=\"text-sm leading-6 text-gray-900\">\r\n                      Postal Code: {order.selectedAddress.postalcode}\r\n                    </p>\r\n                    <p className=\"text-sm leading-6 text-gray-900\">\r\n                      Country: {order.selectedAddress.country}\r\n                    </p>\r\n                    <p className=\"text-sm leading-6 text-gray-900\">\r\n                      Province: {order.selectedAddress.state}\r\n                    </p>\r\n                    <p className=\"text-sm leading-6 text-gray-900\">\r\n                      Phone: {order.selectedAddress.phone}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n        ))}\r\n      <Pagination\r\n        page={page}\r\n        setPage={setPage}\r\n        handlePage={pageHandle}\r\n        totalItems={ordersTotal}\r\n      ></Pagination>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}